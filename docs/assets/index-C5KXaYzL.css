:root{--bg: #0b0f1a;--panel: #121829ee;--panel-2: #0f1524aa;--text: #e6ecff;--muted: #97a3c0;--accent: #5be2b0;--accent-2: #8aa8ff;--danger: #ff6b6b;--gold: #ffd166;--ember: #ff6b6b;--fire: #ff9f43;--plasma: #ffffff;--shadow: 0 6px 20px rgba(0, 0, 0, .35);--radius: 16px;--update-banner-offset: 0px;--p1-base: #1a4d40;--p1-accent: #5be2b0;--p1-glow: rgba(91, 226, 176, .22);--p1-gradient: linear-gradient(180deg, rgba(22, 39, 58, .85) 0%, rgba(26, 77, 64, .45) 100%);--p2-base: #1e2a4a;--p2-accent: #8aa8ff;--p2-glow: rgba(138, 168, 255, .22);--p2-gradient: linear-gradient(180deg, rgba(22, 39, 58, .85) 0%, rgba(30, 42, 74, .45) 100%)}*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:Sora,Avenir Next,Gill Sans,Trebuchet MS,sans-serif;color:var(--text);background:radial-gradient(120% 80% at 18% 0%,#15254a,#0b0f1a 55%,#070e1d);display:flex;flex-direction:column;padding:12px;padding-top:calc(12px + var(--update-banner-offset, 0px));padding-bottom:74px;gap:8px;min-height:100svh;overflow:hidden}@supports (orientation: landscape){@media (orientation: landscape){body:before{content:"Portrait mode only";position:fixed;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;background:#000000f2;color:var(--text);font-size:20px;font-weight:700;text-align:center;padding:20px}}}header{text-align:center;font-weight:800;font-size:22px;position:relative;z-index:50;background:linear-gradient(180deg,#080c16eb,#080c1699);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.08);box-shadow:0 10px 22px #00000059;display:flex;flex-direction:column;gap:8px;padding:12px;border-radius:18px}.topbar{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px}.icon-btn{width:42px;height:42px;display:grid;place-items:center;background:#ffffff14;border:1px solid rgba(255,255,255,.12);border-radius:12px;color:var(--text);font-size:18px;cursor:pointer;line-height:1;padding:0;text-align:center;transition:transform .2s ease,background .2s ease}.icon-btn:hover{transform:translateY(-1px);background:#ffffff24}.menu-panel{position:absolute;top:60px;left:12px;z-index:60;width:210px;padding:12px;border-radius:14px;background:linear-gradient(160deg,#0c1428fa,#091020f5);border:1px solid rgba(255,255,255,.08);box-shadow:0 12px 30px #00000073;display:none;flex-direction:column;gap:10px}.menu-panel.open{display:flex}.menu-title{font-size:12px;text-transform:uppercase;letter-spacing:.12em;color:var(--muted)}.menu-section{display:flex;flex-direction:column;gap:8px}.menu-btn{padding:10px 12px;border-radius:10px;font-weight:700;font-size:14px;border:1px solid rgba(255,255,255,.1);background:#ffffff0a;color:var(--text);cursor:pointer;text-align:left}.menu-meta{font-size:12px;color:var(--muted);padding-top:6px;border-top:1px solid rgba(255,255,255,.06)}.update-banner{position:fixed;top:12px;top:calc(env(safe-area-inset-top,0px) + 12px);z-index:100;left:50%;transform:translate(-50%);width:calc(100% - 24px);max-width:520px;display:none;flex-direction:column;align-items:stretch;padding:14px 16px;border-radius:14px;background:linear-gradient(135deg,#12213f,#102542);box-shadow:0 8px 24px #00000073;gap:12px}.update-banner strong{font-size:14px;display:block}.update-actions{display:flex;gap:8px;flex-wrap:wrap;width:100%}.update-banner button{padding:12px 16px;border-radius:999px;border:none;cursor:pointer;font-weight:700;background:linear-gradient(180deg,#22c997,#1aa97a);color:#fff;flex:1 1 140px}.update-banner .ghost{background:transparent;border:1px solid rgba(91,226,176,.5);color:var(--muted)}@media (min-width: 520px){.update-banner{flex-direction:row;align-items:center}.update-banner strong{font-size:15px}.update-actions{width:auto;flex-wrap:nowrap}.update-banner button{flex:0 0 auto;padding:10px 20px}}.players{display:flex;flex-direction:column;gap:12px;flex:1;overflow-y:auto;padding-bottom:4px}.card{background:linear-gradient(160deg,var(--panel),var(--panel-2));border-radius:var(--radius);box-shadow:var(--shadow);padding:10px;display:flex;flex-direction:column;align-items:stretch;gap:6px}.players-section{padding:4px}.player-card{border-radius:22px;border:1px solid rgba(255,255,255,.08);padding:16px;gap:12px;position:relative;box-shadow:0 10px 30px #0000004d;background:var(--p1-gradient)}.player-card.p1{border-top:1px solid rgba(91,226,176,.22);background:var(--p1-gradient)}.player-card.p2{border-top:1px solid rgba(138,168,255,.22);background:var(--p2-gradient)}.card-header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}.player-info{display:flex;gap:12px;align-items:center}.name-box{display:flex;flex-direction:column;gap:2px}.card-emote{font-size:20px;opacity:.7;min-width:20px;text-align:right}.card-emote:empty{display:none}.card-body{display:flex;align-items:center;justify-content:space-between;gap:12px}.card-footer{margin-top:auto}.avatar-wrapper{position:relative;display:inline-block}.avatar{width:48px;height:48px;border-radius:14px;border:2px solid rgba(255,255,255,.12);object-fit:cover;cursor:pointer;position:relative;transition:transform .2s,width .2s,height .2s}.player-card.p1 .avatar{border-color:var(--p1-accent)}.player-card.p2 .avatar{border-color:var(--p2-accent)}.player-crown{position:absolute;top:-8px;right:-8px;width:28px;height:28px;display:none;align-items:center;justify-content:center;font-size:18px;background:linear-gradient(180deg,#ffd166,#ffb347);color:#2b180d;border-radius:50%;box-shadow:0 6px 18px #00000059;border:2px solid rgba(255,255,255,.12)}@media (min-width: 700px){.avatar{width:56px;height:56px}}.avatar:hover{transform:scale(1.05)}.upload-label{position:absolute;bottom:0;right:0;background:#ffffff1f;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;box-shadow:0 2px 8px #0000004d}.upload-label svg{width:18px;height:18px;display:block}.upload-input{display:none}.player-meta{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}.player-input{font-size:16px;font-weight:700;text-align:left;background:transparent;border:none;outline:none;color:var(--text);margin:0;padding:0;width:100%}.streak-badge{font-size:13px;font-weight:800;display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:12px;background:#0000004d;color:var(--text);border:1px solid rgba(255,255,255,.08);position:relative;z-index:1;transition:all .3s cubic-bezier(.25,.46,.45,.94);cursor:default;white-space:nowrap}.fire-icon{display:inline-block;font-style:normal;line-height:1}.streak-right{align-self:center}.streak-badge.smolder{color:var(--ember);border:1px solid rgba(255,107,107,.2);box-shadow:0 0 10px #ff6b6b1a inset;animation:streak-breathe 3s infinite ease-in-out}.streak-badge.smolder .fire-icon{filter:drop-shadow(0 0 4px var(--ember));opacity:.9}.streak-badge.burning{color:#ffd32a;background:#ff9f431f;border:1px solid rgba(255,159,67,.5);text-shadow:0 0 8px rgba(255,159,67,.6);animation:streak-flicker .15s infinite alternate}.streak-badge.burning .fire-icon{transform:scale(1.2);filter:drop-shadow(0 0 6px var(--fire));animation:streak-flicker-icon .1s infinite alternate-reverse}.streak-badge.inferno{color:var(--plasma);background:linear-gradient(135deg,#ff4d4d4d,#ff9f434d);border:1px solid rgba(255,255,255,.6);text-shadow:0 0 5px var(--plasma),0 0 15px var(--fire),0 0 25px var(--ember);box-shadow:0 0 20px #ff643266;animation:streak-inferno .12s infinite}.streak-badge.inferno .fire-icon{font-size:1.1em;filter:drop-shadow(0 0 4px var(--plasma)) drop-shadow(0 0 10px var(--fire));animation:streak-inferno-grow .4s infinite alternate ease-in-out}.score-display{font-size:64px;font-weight:800;line-height:1;letter-spacing:-2px;text-align:left;transition:transform .3s,color .3s,font-size .2s}.player-card.p1 .score-display{color:var(--p1-accent);text-shadow:0 0 30px var(--p1-glow)}.player-card.p2 .score-display{color:var(--p2-accent);text-shadow:0 0 30px var(--p2-glow)}.score.bump{animation:scoreBump .5s ease}.minus-btn{width:44px;height:44px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12);color:var(--muted);font-size:20px;display:grid;place-items:center;cursor:pointer}.minus-btn:active{background:#ffffff1f}.punch-btn{width:100%;padding:18px;border-radius:16px;border:none;font-weight:800;font-size:16px;text-transform:uppercase;letter-spacing:1px;cursor:pointer;box-shadow:0 8px 20px #0003;transition:transform .1s,filter .1s}.punch-btn:active{transform:scale(.98);filter:brightness(.92)}.player-card.p1 .punch-btn{background:var(--p1-accent);color:#0b1a15;box-shadow:0 8px 20px var(--p1-glow)}.player-card.p2 .punch-btn{background:var(--p2-accent);color:#0b1226;box-shadow:0 8px 20px var(--p2-glow)}@keyframes scoreBump{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}@keyframes streak-breathe{0%,to{border-color:#ff6b6b33;text-shadow:0 0 0 transparent}50%{border-color:#ff6b6b99;text-shadow:0 0 8px rgba(255,107,107,.4)}}@keyframes streak-flicker{0%{box-shadow:0 0 5px #ff9f4333;opacity:.95}to{box-shadow:0 0 12px #ff9f4380;opacity:1}}@keyframes streak-flicker-icon{0%{transform:scale(1.2) rotate(-1deg);opacity:.8}to{transform:scale(1.25) rotate(1deg);opacity:1}}@keyframes streak-inferno{0%{transform:translate(0)}25%{transform:translate(-.2px,.2px);border-color:#fffc}50%{transform:translate(.2px,-.2px)}75%{transform:translate(-.2px,-.2px);border-color:#fff6}to{transform:translate(.2px,.2px)}}@keyframes streak-inferno-grow{0%{transform:scale(1.3)}to{transform:scale(1.5);filter:drop-shadow(0 0 8px var(--plasma)) drop-shadow(0 0 15px var(--fire))}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}.card.winner{animation:winPulse .6s ease}.card.loser{animation:shake .5s ease}@keyframes winPulse{0%,to{transform:scale(1)}50%{transform:scale(1.03)}}button{width:100%;padding:12px;font-size:16px;font-weight:700;border:none;border-radius:var(--radius);cursor:pointer;transition:all .2s}.accent{background:linear-gradient(180deg,#22c997,#1aa97a);color:#fff}.danger{background:linear-gradient(180deg,#ff7c7c,#ff4d4d);color:#fff}.ghost{background:transparent;border:1px solid #2a3966;color:var(--text)}.roundbar{text-align:center;font-weight:700;padding:6px 10px;border-radius:10px;background:#ffffff0a;font-size:13px;color:var(--muted);border:1px solid rgba(255,255,255,.05);margin:0}.log{flex:1;overflow:auto;background:#0b1226;border-radius:var(--radius);padding:10px;font-size:13px}.log h3{margin:0 0 6px;font-size:12px;color:var(--muted)}.log ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}.log li{padding:6px 8px;border-radius:8px;background:#ffffff0d}.toolbar{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;position:fixed;bottom:12px;left:12px;right:12px;z-index:40}@media (min-width: 700px){body{max-width:520px;margin:0 auto}.players{flex-direction:row;align-items:stretch}.toolbar{grid-template-columns:repeat(3,1fr)}}@media (min-width: 600px) and (min-height: 500px){.players{flex-direction:row;align-items:stretch}}.leaderboard-wrap{display:none;position:fixed;left:12px;right:12px;bottom:80px;z-index:45}.leaderboard{display:flex;gap:10px;justify-content:space-between;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(180deg,#081025,#0f1726);box-shadow:var(--shadow)}.leaderboard .col{display:flex;flex-direction:column;align-items:center;gap:8px;min-width:120px}.leaderboard h4{margin:0;font-size:12px;color:var(--muted)}.tokens{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}.token{width:20px;height:20px;border-radius:4px;display:inline-grid;place-items:center;font-size:12px;font-weight:800;color:#071024}.token.win{background:var(--gold);color:#081025;box-shadow:0 4px 10px #ffd1661f}.token.lose{background:transparent;border:2px solid rgba(255,255,255,.06);color:var(--muted);position:relative}.token.lose:after{content:"";position:absolute;left:-6px;right:-6px;top:50%;height:2px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.18),transparent);transform:rotate(-12deg)}.leader-actions{display:flex;gap:8px}@media (min-width: 700px){.leaderboard-wrap{left:50%;transform:translate(-50%);width:420px}}.leaderboard-view{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:60;background:radial-gradient(120% 80% at 50% 0%,#1a2c55,#0b0f1a 60%);padding:16px;overflow:hidden}.lb-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:#0b0f1acc;border-radius:16px;border:1px solid rgba(255,255,255,.06);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);position:sticky;top:0;z-index:10}.lb-title{font-weight:900;font-size:18px;display:flex;align-items:center;gap:8px}.lb-close{background:#ffffff1a;border:none;color:var(--text);width:32px;height:32px;border-radius:50%;display:grid;place-items:center;cursor:pointer;font-size:18px;transition:background .2s ease}.lb-close:hover{background:#fff3}.lb-content{margin-top:16px;display:flex;flex-direction:column;gap:20px;overflow-y:auto;padding-bottom:40px;height:calc(100% - 76px)}.matchup-card{background:linear-gradient(145deg,#ffffff14,#ffffff05);border-radius:20px;padding:24px 16px;position:relative;border:1px solid rgba(255,255,255,.08);box-shadow:0 8px 32px #0003}.matchup-header{text-align:center;font-size:12px;text-transform:uppercase;letter-spacing:2px;color:var(--muted);margin-bottom:16px;font-weight:600}.players-row{display:flex;justify-content:space-between;align-items:center;position:relative;gap:12px}.player{display:flex;flex-direction:column;align-items:center;gap:8px;flex:1}.avatar-container{position:relative}.avatar-lg{width:72px;height:72px;border-radius:20px;object-fit:cover;border:3px solid rgba(255,255,255,.1);background:#151b2e}.player.winner .avatar-lg{border-color:var(--gold);box-shadow:0 0 20px #ffd16633}.crown-icon{position:absolute;top:-12px;right:-8px;font-size:24px;filter:drop-shadow(0 4px 4px rgba(0,0,0,.3));animation:lb-bounce 2s infinite}.player-name{font-weight:700;font-size:15px;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.big-score{font-size:32px;font-weight:900;line-height:1;margin-top:4px}.player.p1 .big-score{color:var(--accent);text-shadow:0 0 20px rgba(91,226,176,.3)}.player.p2 .big-score{color:var(--accent-2);text-shadow:0 0 20px rgba(138,168,255,.3)}.vs-divider{font-weight:800;color:#ffffff1a;font-size:24px;font-style:italic}.meter-container{margin-top:20px;display:flex;flex-direction:column;gap:6px}.meter-labels{display:flex;justify-content:space-between;font-size:11px;font-weight:600;color:var(--muted)}.meter-bar{height:8px;background:#ffffff1a;border-radius:4px;overflow:hidden;display:flex}.meter-fill-p1{background:var(--accent);transition:width .6s ease-out}.meter-fill-p2{background:var(--accent-2);transition:width .6s ease-out}.stats-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}.stat-box{background:#ffffff0d;padding:12px 8px;border-radius:16px;text-align:center;border:1px solid rgba(255,255,255,.03)}.stat-label{font-size:11px;color:var(--muted);margin-bottom:4px}.stat-value{font-size:18px;font-weight:800}.history-section h3{margin:0 0 16px;font-size:16px;font-weight:700;color:var(--muted);display:flex;align-items:center;gap:8px}.history-section h3 span{background:#ffffff1a;padding:2px 8px;border-radius:12px;font-size:12px;color:var(--text)}.round-list{display:flex;flex-direction:column;gap:12px}.round-item{display:flex;align-items:center;background:linear-gradient(90deg,#ffffff08,#ffffff03);border-radius:16px;padding:12px 16px;border:1px solid transparent;transition:transform .2s}.round-item:active{transform:scale(.98)}.round-item.win-a{border-left:4px solid var(--accent);background:linear-gradient(90deg,#5be2b00d,#ffffff03)}.round-item.win-b{border-left:4px solid var(--accent-2);background:linear-gradient(90deg,#8aa8ff0d,#ffffff03)}.round-item.tie{border-left:4px solid var(--muted)}.round-num{font-size:13px;color:var(--muted);width:40px;font-weight:600}.round-scores{flex:1;display:flex;justify-content:center;align-items:center;gap:16px;font-size:18px;font-weight:800}.score-val{width:30px;text-align:center}.score-val.winner{font-size:22px}.score-val.p1{color:var(--accent)}.score-val.p2{color:var(--accent-2)}.score-val.dim{opacity:.4}.round-divider{opacity:.2;font-size:14px}.round-badge{width:40px;text-align:right;font-size:20px}.round-badge span{font-size:12px;font-weight:700}.badge-a{color:var(--accent)}.badge-b{color:var(--accent-2)}.badge-tie{color:var(--muted)}@keyframes lb-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-6px)}}.app-title{display:flex;flex-direction:column;align-items:center;gap:4px}.title-main{font-weight:900;font-size:28px;background:linear-gradient(90deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 6px 18px rgba(10,12,24,.6)}.back-btn{padding:10px 16px;border-radius:12px;background:linear-gradient(135deg,#ffffff1a,#ffffff0d);border:1px solid rgba(255,255,255,.15);color:var(--text);font-weight:700;transition:all .2s ease;cursor:pointer}.back-btn.danger{background:linear-gradient(135deg,#dc3c3c40,#aa141433);border-color:#dc505080;color:#ffe6e6}.back-btn.danger:hover{background:linear-gradient(135deg,#dc3c3c66,#aa14144d);transform:scale(1.05)}.back-btn:hover{background:linear-gradient(135deg,#fff3,#ffffff1a);transform:scale(1.05)}.modal{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;z-index:85;background:linear-gradient(180deg,#02060c99,#02060cd9)}.modal-card{width:calc(100% - 24px);max-width:720px;padding:16px 14px;border-radius:14px;box-shadow:0 12px 48px #0009}.modal-header{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;margin-bottom:10px}.modal-title{font-weight:900;font-size:16px;letter-spacing:.02em}.modal-actions{display:flex;flex-wrap:wrap;gap:8px;align-items:center}.modal-actions .back-btn{padding:8px 14px}.modal-subtitle{font-size:13px;color:var(--muted);margin-bottom:10px;line-height:1.4}.modal-body{max-height:60vh;overflow:auto}.modal-log{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}@media (min-width: 700px){.modal-card{padding:20px}}
